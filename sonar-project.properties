# SonarQube Analysis Configuration
# =================================
# This file configures SonarQube analysis settings for ToFlowAI
#
# To run analysis locally:
#   1. Start SonarQube: docker run -d --name sonarqube -p 9000:9000 sonarqube:community
#   2. Create project token in SonarQube UI
#   3. Run: ./gradlew sonar -Dsonar.token=YOUR_TOKEN
#
# For CI/CD (GitHub Actions):
#   - Set SONAR_TOKEN secret in repository settings
#   - Analysis runs automatically on push/PR

# Project identification
sonar.projectKey=ToFlowAI
sonar.projectName=ToFlowAI
sonar.organization=toflowai

# Source configuration
sonar.sources=app/src/main/java,ui/src/main/java,common/src/main/java
sonar.tests=app/src/test/java,ui/src/test/java,common/src/test/java
sonar.java.source=25
sonar.sourceEncoding=UTF-8

# Binary/class files
sonar.java.binaries=app/build/classes,ui/build/classes,common/build/classes

# JaCoCo coverage reports
sonar.coverage.jacoco.xmlReportPaths=app/build/reports/jacoco/test/jacocoTestReport.xml,ui/build/reports/jacoco/test/jacocoTestReport.xml,common/build/reports/jacoco/test/jacocoTestReport.xml

# Exclusions
sonar.exclusions=**/generated/**,**/build/**,**/*.css,**/*.fxml
sonar.test.exclusions=**/test/**

# Quality gate settings
sonar.qualitygate.wait=true

# Duplication detection
sonar.cpd.exclusions=**/dto/**,**/entity/**

# Issue severity
sonar.issue.ignore.multicriteria=e1,e2
# Ignore "too many parameters" for builders and DTOs
sonar.issue.ignore.multicriteria.e1.ruleKey=java:S107
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*Builder.java
sonar.issue.ignore.multicriteria.e2.ruleKey=java:S107
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*DTO.java
